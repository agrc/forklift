<!-- gmail will strip the <style> tag if it's not in the <head> -->
<head>
  <style>
    .error {
      background-color: #FFE6E6;
    }
    .warning {
      background-color: #FFF7E6;
    }
    .success {
      background-color: #E6FFE6;
    }
    .info {
      background-color: #E6EEFF;
    }
    .pull-right {
      float: right;
      margin-left: 20px;
    }
    table {
      line-height: 1.5em;
      border-collapse: collapse;
    }
  </style>
</head>
<p>
  <strong>{{num_success_pallets}}</strong> out of <strong>{{total_pallets}}</strong> pallets ran successfully in <strong>{{total_time}}</strong> on {{hostname}}.
</p>
<table>
  <tbody>
    {{#git_errors}}
    <tr>
      <td colspan="2" class="error">{{.}}</td>
    </tr>
    {{/git_errors}}
    {{#import_errors}}
    <tr>
      <td colspan="2" class="error">{{.}}</td>
    </tr>
    {{/import_errors}}
    {{#pallets}}
    <tr>
      <td colspan="2" class="{{#success}}success{{/success}}{{^success}}error{{/success}}">
        <strong>{{name}}</strong>
        <span class="pull-right">
          {{total_processing_time}}
        </span>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        {{message}}
      </td>
    </tr>
    {{#crates}}
    <tr>
      <td style="padding-left: 10px">{{name}}</td>
      <td>{{result}}</td>
    </tr>
    {{#crate_message}}
    <tr>
      <td colspan="2" class="{{message_level}}" style="padding-left: 20px;">
        {{crate_message}}
      </td>
    </tr>
    {{/crate_message}}
    {{/crates}}
    <tr>
      <td>&nbsp;</td>
    </tr>
    {{/pallets}}
  </tbody>
</table>
